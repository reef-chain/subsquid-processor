manifestVersion: subsquid.io/v0.1
name: reef
version: 1
description: |-
  Reef Chain explorer data

build:

deploy:
  addons:
    postgres:
  processor:
    env:
      NETWORK:
        mainnet
      SQUID_NAME:
        reef-explorer
    cmd: [ "node", "lib/processor" ]
  api:
    cmd: [ "npx", "squid-graphql-server", "--subscriptions", "--max-root-fields", "15", "--max-response-size", "1000", "--sql-statement-timeout", "1000"]
  secrets:
    - NODE_RPC_WS_MAINNET
    - NODE_RPC_WS_TESTNET
    - ARCHIVE_LOOKUP_NAME_MAINNET
    - ARCHIVE_LOOKUP_NAME_TESTNET
    - JWT_SECRET
    - INFURA_IPFS_PROJECT_ID
    - INFURA_IPFS_KEY
    - API_KEY_REEF-EXPLORER
    - API_KEY_REEF-EXPLORER-TESTNET

#scale:
#  dedicated: true
#  addons:
#    postgres:
#      storage: 100G
#      profile: large
#  processor:
#    profile: large
#########################################################
